<html>
<head>
    <title>so sorry</title>
</head>
<body>
    <style>
        body{
            background-color: #111111;
            color: #ffffff;
        }
        
        a:link { color: #dddddd; }
        a:visited { color: #dddddd; }
        a:hover { color: #ff9a6e; }
        a:active { color: #ff80aa; }
        
        .table{
            border-collapse: collapse;
            border-color: #cccccc;
            width: 1400px;
        }
        
        .title{
            width: 200px;
            text-align: center;
        }
        
    </style>
    <table class="table" id="table" border=1>
    </table>
</body>
<script src="js/jquery-3.2.1.slim.min.js"></script>
<script src="js/js.cookie.js"></script>
<script>
    var maxColNum = 10
    var storageKey = "goto14SearchUtilKey"
    saveCookie = function(){
        localStorage.setItem(storageKey, JSON.stringify(data))
        console.log('saved')
    }
    
    loadCookie = function(){
        str = localStorage.getItem(storageKey)
        console.log(str)
        console.log('loaded')
        
        if(str){
            
        }
        else{
            str = JSON.stringify({"datas":[
                {"name":"固液気","data":["愛液","汗","おしっこ","ローション","唾液","くそ"]},
                {"name":"体勢","data":["まんぐり返し","四つん這い","背面座位","後背位","エロ蹲踞","足ピン","寝バック","女豹のポーズ","立ちバック","だいしゅきホールド","対面座位","駅弁","騎乗位","密着","顔面騎乗"]},
                {"name":"性質","data":["マグロ","ダウナー系","クーデレ","幼馴染","関西弁"]},
                {"name":"身体","data":["精神状態","ボコ顔","ボテ腹","潮吹き","泣き顔","アヘ顔","泡吹き","痙攣","溢れ精液","涙目","勃起乳首","ヤク漬け","酔っ払い","流血","赤面","そばかす","食い込み","俯き我慢","傷痕","尻","つぶれおっぱい","寝顔","ドヤ顔","絶望顔","トロ顔","透けブラ","ガクビク"]},
                {"name":"相手素体","data":["スライム","ミミズ","吸盤","巨根","筋肉"]},
                {"name":"身体素体","data":["ギザ歯","すじ","スレンダー","セミロング","ちっぱい","つるぺた","パイパン","ふくらはぎ","ふたなり","ムチムチ","メカクレ","ロングヘア","陰毛","噛み痕","金髪","古傷","黒髪ぱっつん","鎖 骨","三白眼","四白眼","糸目","絶対領域","鼠蹊部","太もも","注射痕","乳輪","貧乳","八重歯","しっぽ","ジト目","ねこみみ","肋骨","乳首","アナル","うなじ","褐色肌","陥没乳首","デコ","ショートヘア","生足","腋","タレ目","ケモミミ","裸足","内臓","へそ","おかっぱ","足の裏","背中","つり目","ぐるぐる目","舌","サイドテール","ポニーテール","目的達成装置","ボールギャグ","内視鏡","バイブ","アナルビーズ","首輪","足枷","さるぐつわ","使用済みｺﾝﾄﾞｰﾑ","手錠","電極","ローター","注射器","淫紋","目隠し","ディルド"]},
                {"name":"役職","data":["アンドロイド","エルフ","くノ一","シスター","サキュバス","スパイ","女子校生","ゾンビ","対魔忍","デュラハン","メイド","ロリババア","魔法少女","ラミア","オーク","きつね","たぬき"]},
                {"name":"服装服飾","data":["アオザイ","インナー","網タイツ","白スク","萌え袖","糸引きぱんつ","ガーターベルト","下脱ぎ","下着","スク水","スパッツ","スリングショット","縞パン","制服","セーラー服","ソックス","タイツ","縦セーター","タンクトップ","チャイナドレス","チューブトップ","足袋","トップレス","パレオ","ドレス","ドロワーズ","手袋","パジャマ","パンスト","ニーソ","ネクパイ","ノースリーブ","ネグリジェ","ビキニ","ふんどし","浴衣","ルーズソックス","和服","巫女","水着","ホットパンツ","マイクロビキニ","ローレグ","眼鏡","ショートパンツ","オープンショーツ","さらし（下着）","道着","キュロット"]},
                {"name":"メタ","data":["足コキ","アンバース","青姦","圧死","喘ぎ声","異種姦","いちゃらぶ","淫語","異物挿入","イキ地獄","飲尿","呻き声","笑顔強制","産み付け","エナジードレイン","エロ処刑","オナニー","オーラルセックス","おっぱい合わせ","嘔吐","おもらし","お風呂場","温泉","貫通","壁尻","貝合わせ","浣腸","感電","感覚共有","監禁","強制絶頂","強制自慰","傷舐め","吸収","キスハメ","寄生","キャットファイト","ギャップ","局部露出","機械姦","吸精","キメセク","緊縛","キス","気絶","くすぐり","口移し","屈服","首絞め","催淫","産卵","二穴責め","クリ責め","くぱぁ","搾乳","斬首","クンニ","串刺し","昏睡レイプ","声我慢","拘束","拷問","股間からの水音","強姦","恋人繋ぎ","撮影","触手","失禁","羞恥","触手貫通","受精","失神","死姦","視姦","獣姦","寸止め","消化","授乳","焦らしプレイ","睡姦","石化","精液ボテ","セクハラ","切断","前戯","ソフトリョナ","早漏","添い寝","束縛","即落ち","抱きしめ","種付けプレス","痴漢","チューブ連結","窒息","乳首チラ","託卵","大量射精","綱渡り","耳責め","見せ槍","連続絶頂","レベルドレイン","レズレイプ","ローアングル","蟲姦","放置","丸呑み","方言","体内貫通","電気アンマ","ナメクジ姦","ディープキス","トイレ","ながらプレイ","なでなで","はけ水車","ペッティング","ボコォ","羽交い締め","指舐め","手コキ","手マン","照れ","剃毛","泥酔","溺死","逃亡","同化","匂い","肉壁","敗北レイプ","培養槽","百合","苗床","腹パン","平然","放尿","臍姦","","アクメ","アンバース","たくしあげ","チキチキ","ﾌｪｲｽﾊｶﾞｰ型触手","殴打","仰け反り絶頂","屈服","出産","生命の神秘","青姦","絶頂禁止","濡れ透け","粘着拘束","脳姦","浴槽","媚薬","体格差"]}]})
        }
        return str;
    }

    drawTable = function(){
        $('#table').empty()
        data["datas"].forEach(function(val){
            var rawNum = Math.ceil(val["data"].length/maxColNum)
            if(rawNum==0)rawNum=1
            for(var i=0;i<rawNum;i++){
                if(i==0)$('#table').append('<tr id=' + val["name"] + i + '><td class="title" rowspan=' + rawNum + '>' + val["name"] + '</br>' +
                                           ' <input type="text"  id="input' + val["name"] + '"> '+
                                           ' <button name="add' + val["name"] + '" onClick="onClickAdd(\'' + val["name"] + '\')">追加</button>'+
                                           ' <button name="del' + val["name"] + '" onClick="onClickDel(\'' + val["name"] + '\')">削除</button>' + '</td></tr>');
                else $('#table').append('<tr id=' + val["name"] + i + '></tr>');
            }
            
            for(var i=0,l=rawNum*maxColNum;i<l;i++){
                if(val["data"][i]) $('#' + val["name"] + Math.floor(i/maxColNum)).append('<td><a href="https://www.pixiv.net/search.php?word=' + val["data"][i] + '" target="_blank">' + val["data"][i] + '</a></td>')
                else $('#' + val["name"] + Math.floor(i/maxColNum)).append('<td></td>')
            }
            
        });
        saveCookie()
    }
    
    onClickAdd = function(name){
        var inputStr = $("#input"+name).val()
        $("#input"+name).val("")
        console.log('add button pushed:' + name + ' and val is ' + inputStr)
        var objArray;
        data["datas"].forEach(function(val){
            if(val["name"] == name){
                objArray = val["data"];
            }
        });
        if(inputStr != ""){
            objArray.push(inputStr)
            drawTable()
        }
    }
    
    onClickDel = function(name){
        console.log('del button pushed:' + name)
        var objArray;
        data["datas"].forEach(function(val){
            if(val["name"] == name){
                objArray = val["data"];
            }
        });
        if(objArray.length != 0){
            objArray.pop()
            drawTable()
        }
    }
    
    data = $.parseJSON(loadCookie())
    
    drawTable()
    
</script>
</html>